<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Edit Application</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body class="container mt-5">

  <h2>Edit Job Application</h2>

  <form action="/application/edit/<%= app._id %>" method="POST">
    <label class="form-label">Job Title:</label>
    <input type="text" name="jobTitle" value="<%= app.jobTitle %>" class="form-control" required />

    <label class="form-label mt-3">Company:</label>
    <input type="text" name="company" value="<%= app.company %>" class="form-control" required />

    <label class="form-label mt-3">Date:</label>
    <input type="date" name="date" value="<%= app.date ? app.date.toISOString().slice(0, 10) : '' %>" class="form-control" required />

    <label class="form-label mt-3">Status:</label>
    <select name="status" class="form-select" required>
      <% ['Applied', 'Interview', 'Offer', 'Rejected'].forEach(s => { %>
        <option value="<%= s %>" <%= app.status === s ? "selected" : "" %>><%= s %></option>
      <% }) %>
    </select>

    <label class="form-label mt-3">Notes:</label>
    <textarea name="notes" class="form-control" rows="4"><%= app.notes || '' %></textarea>

    <button type="submit" class="btn btn-primary mt-4">Update Application</button>
  </form>

</body>
</html>